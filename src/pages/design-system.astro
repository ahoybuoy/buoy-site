---
import Layout from '../layouts/Layout.astro'
import Nav from '../components/Nav.astro'
import Button from '../components/Button.astro'
import FeatureCard from '../components/FeatureCard.astro'
import Terminal from '../components/Terminal.astro'
import CodeBlock from '../components/CodeBlock.astro'
import DocTerminal from '../components/DocTerminal.astro'
import Flags from '../components/Flags.astro'
import Footer from '../components/Footer.astro'
import WaveBackground from '../components/WaveBackground.astro'
import LeadMagnetForm from '../components/LeadMagnetForm.astro'
import LeadMagnetCallout from '../components/LeadMagnetCallout.astro'
import LeadMagnetCTA from '../components/LeadMagnetCTA.astro'
import LeadCaptureSection from '../components/LeadCaptureSection.astro'

const colorGroups = [
  {
    label: 'Navy',
    tokens: [
      { name: '--color-navy-dark',  tw: 'bg-navy-dark',  label: 'navy-dark',  dark: '#0f1829', light: '#FFFFFF' },
      { name: '--color-navy',       tw: 'bg-navy',       label: 'navy',       dark: '#1a2744', light: '#F0F4F8' },
      { name: '--color-navy-light', tw: 'bg-navy-light', label: 'navy-light', dark: '#243352', light: '#CBD5E1' },
    ]
  },
  {
    label: 'Brand ‚Äî Buoy Orange',
    tokens: [
      { name: '--color-buoy',       tw: 'bg-buoy',       label: 'buoy',       dark: '#F97316', light: '#F97316' },
      { name: '--color-buoy-light', tw: 'bg-buoy-light', label: 'buoy-light', dark: '#FB923C', light: '#FB923C' },
      { name: '--color-buoy-dark',  tw: 'bg-buoy-dark',  label: 'buoy-dark',  dark: '#EA580C', light: '#EA580C' },
    ]
  },
  {
    label: 'Accent ‚Äî Lavender',
    tokens: [
      { name: '--color-lavender',       tw: 'bg-lavender',       label: 'lavender',       dark: '#8B5CF6', light: '#6366F1' },
      { name: '--color-lavender-light', tw: 'bg-lavender-light', label: 'lavender-light', dark: '#A78BFA', light: '#818CF8' },
      { name: '--color-sky-purple',     tw: 'bg-sky-purple',     label: 'sky-purple',     dark: '#6366F1', light: '#4F46E5' },
    ]
  },
  {
    label: 'Sunrise',
    tokens: [
      { name: '--color-sunrise',       tw: 'bg-sunrise',       label: 'sunrise',       dark: '#F59E0B', light: '#F59E0B' },
      { name: '--color-sunrise-light', tw: 'bg-sunrise-light', label: 'sunrise-light', dark: '#FBBF24', light: '#FBBF24' },
    ]
  },
  {
    label: 'Text',
    tokens: [
      { name: '--color-light',       tw: 'bg-light',       label: 'light',       dark: '#F8FAFC', light: '#1A2744' },
      { name: '--color-light-muted', tw: 'bg-light-muted', label: 'light-muted', dark: '#E2E8F0', light: '#243352' },
      { name: '--color-slate',       tw: 'bg-slate',       label: 'slate',       dark: '#94A3B8', light: '#475569' },
      { name: '--color-slate-dark',  tw: 'bg-slate-dark',  label: 'slate-dark',  dark: '#64748B', light: '#94A3B8' },
    ]
  },
  {
    label: 'Semantic',
    tokens: [
      { name: '--color-success',  tw: 'bg-success',  label: 'success',  dark: '#10B981', light: '#059669' },
      { name: '--color-warning',  tw: 'bg-warning',  label: 'warning',  dark: '#F59E0B', light: '#D97706' },
      { name: '--color-critical', tw: 'bg-critical', label: 'critical', dark: '#EF4444', light: '#DC2626' },
      { name: '--color-info',     tw: 'bg-info',     label: 'info',     dark: '#3B82F6', light: '#2563EB' },
    ]
  },
]

const codeSnippets = {
  bash: `npx ahoybuoy drift check\nnpx ahoybuoy show tokens`,
  config: `export default {\n  extends: 'buoy:recommended',\n  rules: {\n    'no-hardcoded-colors': 'error',\n    'no-arbitrary-spacing': 'warn',\n  },\n}`,
  withHighlight: `import { tokens } from './tokens'\n\nconst color = '#ff0000'  // ‚Üê drift!\nconst bg = tokens.navy   // ‚úì token`,
}

const flagItems = [
  { name: '--config', description: 'Path to buoy config file', default: 'buoy.config.mjs' },
  { name: '--format', description: 'Output format: pretty | json | table', default: 'pretty' },
  { name: '--fix', description: 'Auto-apply suggested token fixes' },
  { name: '--token', description: 'API token for cloud features', required: true },
]
---

<Layout title="Design System ‚Äî Plumb | Buoy">
  <Nav />

  <!-- Sticky section jump nav -->
  <header class="sticky top-0 z-40 bg-navy-dark/90 backdrop-blur-sm border-b border-navy-light/20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <nav aria-label="Page sections" class="flex items-center gap-6 overflow-x-auto py-3 text-sm font-medium">
        <a href="#colors" class="text-slate hover:text-light whitespace-nowrap transition-colors">Colors</a>
        <a href="#typography" class="text-slate hover:text-light whitespace-nowrap transition-colors">Typography</a>
        <a href="#spacing" class="text-slate hover:text-light whitespace-nowrap transition-colors">Spacing</a>
        <a href="#effects" class="text-slate hover:text-light whitespace-nowrap transition-colors">Effects</a>
        <a href="#motion" class="text-slate hover:text-light whitespace-nowrap transition-colors">Motion</a>
        <a href="#components" class="text-slate hover:text-light whitespace-nowrap transition-colors">Components</a>
        <a href="#patterns" class="text-slate hover:text-light whitespace-nowrap transition-colors">Patterns</a>
      </nav>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 space-y-24">

    <!-- Hero header -->
    <section class="text-center max-w-3xl mx-auto">
      <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-success/10 border border-success/30 text-success text-sm font-mono mb-6">
        <span class="w-2 h-2 rounded-full bg-success animate-pulse"></span>
        0 drift issues detected
      </div>
      <h1 class="text-5xl font-extrabold text-light mb-4 font-[Quicksand]">
        Plumb<br /><span class="text-buoy">Design System</span>
      </h1>
      <p class="text-slate text-lg">
        Every token, component, and pattern used in buoy-site ‚Äî documented, live, and continuously checked for drift.
      </p>
    </section>

    <!-- Colors section -->
    <section id="colors" class="scroll-mt-16">
      <h2 class="ds-section-heading">Color Tokens</h2>
      <p class="ds-section-sub">All colors are CSS custom properties under <code class="ds-code">@theme</code> in <code class="ds-code">src/styles/global.css</code>. They respond to light mode automatically.</p>

      <div class="space-y-10 mt-8">
        {colorGroups.map(group => (
          <div>
            <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-3">{group.label}</h3>
            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3">
              {group.tokens.map(token => (
                <div class="rounded-xl overflow-hidden border border-navy-light/20 bg-navy/40">
                  <div class={`h-20 ${token.tw}`} role="img" aria-label={`${token.label} color swatch`}></div>
                  <div class="p-3 space-y-1">
                    <div class="font-mono text-xs text-buoy">{token.name}</div>
                    <div class="font-mono text-xs text-slate">tw: {token.label}</div>
                    <div class="text-xs text-slate-dark font-mono">‚óê {token.dark}</div>
                    <div class="text-xs text-slate-dark font-mono">‚òÄ {token.light}</div>
                  </div>
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>

    <!-- Typography section -->
<section id="typography" class="scroll-mt-16">
  <h2 class="ds-section-heading">Typography</h2>
  <p class="ds-section-sub">Three font families, each with a specific role. Set via CSS variables and applied in <code class="ds-code">global.css</code>.</p>

  <!-- Font Families -->
  <div class="grid md:grid-cols-3 gap-6 mb-12 mt-8">
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-mono text-slate-dark mb-2 uppercase tracking-widest">Display ‚Äî --font-display</div>
      <div class="text-4xl font-bold text-light font-[Quicksand]">Quicksand</div>
      <div class="text-sm text-slate mt-2 font-mono">Quicksand, system-ui</div>
      <div class="mt-3 text-slate text-sm">Headings, hero text, brand moments</div>
    </div>
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-mono text-slate-dark mb-2 uppercase tracking-widest">Body ‚Äî --font-body</div>
      <div class="text-4xl font-bold text-light">Inter</div>
      <div class="text-sm text-slate mt-2 font-mono">Inter, system-ui</div>
      <div class="mt-3 text-slate text-sm">Paragraphs, UI labels, descriptions</div>
    </div>
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-mono text-slate-dark mb-2 uppercase tracking-widest">Mono ‚Äî --font-mono</div>
      <div class="text-4xl font-bold text-light font-mono">JetBrains</div>
      <div class="text-sm text-slate mt-2 font-mono">JetBrains Mono, Fira Code</div>
      <div class="mt-3 text-slate text-sm">Code, terminal output, token names</div>
    </div>
  </div>

  <!-- Type Scale -->
  <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-4">Type Scale</h3>
  <div class="space-y-1 p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
    <div class="flex items-baseline gap-6 py-3 border-b border-navy-light/10">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">h1</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-5xl</div>
      <span class="text-5xl font-extrabold text-light font-[Quicksand] leading-tight">Design Systems</span>
    </div>
    <div class="flex items-baseline gap-6 py-3 border-b border-navy-light/10">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">h2</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-4xl</div>
      <span class="text-4xl font-bold text-light font-[Quicksand]">Token-Driven</span>
    </div>
    <div class="flex items-baseline gap-6 py-3 border-b border-navy-light/10">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">h3</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-2xl</div>
      <span class="text-2xl font-semibold text-light font-[Quicksand]">Consistent by Default</span>
    </div>
    <div class="flex items-baseline gap-6 py-3 border-b border-navy-light/10">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">h4</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-xl</div>
      <span class="text-xl font-semibold text-light font-[Quicksand]">No Hardcoded Values</span>
    </div>
    <div class="flex items-baseline gap-6 py-3 border-b border-navy-light/10">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">p</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-base</div>
      <span class="text-base text-light">Body text reads cleanly at this size. Designed for long-form content and UI descriptions.</span>
    </div>
    <div class="flex items-baseline gap-6 py-3 border-b border-navy-light/10">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">small</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-sm</div>
      <span class="text-sm text-slate">Supporting text, captions, helper copy</span>
    </div>
    <div class="flex items-baseline gap-6 py-3">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">code</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-sm</div>
      <code class="text-sm text-buoy font-mono">npx ahoybuoy drift check</code>
    </div>
  </div>
</section>

    <!-- Spacing section -->
<section id="spacing" class="scroll-mt-16">
  <h2 class="ds-section-heading">Spacing</h2>
  <p class="ds-section-sub">Section spacing tokens. Element-level spacing uses Tailwind's default scale.</p>

  <div class="space-y-4 mt-8">
    <div class="flex items-center gap-6 p-4 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="shrink-0 h-8 bg-buoy/20 border border-buoy/30 rounded" style="width: 6rem"></div>
      <div>
        <div class="font-mono text-sm text-buoy">--spacing-section</div>
        <div class="font-mono text-xs text-slate-dark mt-0.5">6rem ‚Äî Section padding desktop</div>
      </div>
    </div>
    <div class="flex items-center gap-6 p-4 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="shrink-0 h-8 bg-buoy/20 border border-buoy/30 rounded" style="width: 4rem"></div>
      <div>
        <div class="font-mono text-sm text-buoy">--spacing-section-sm</div>
        <div class="font-mono text-xs text-slate-dark mt-0.5">4rem ‚Äî Section padding mobile</div>
      </div>
    </div>
  </div>
</section>

<!-- Effects section -->
<section id="effects" class="scroll-mt-16">
  <h2 class="ds-section-heading">Effects</h2>
  <p class="ds-section-sub">Glow utilities, text gradients, and animation classes defined in <code class="ds-code">global.css</code>.</p>

  <div class="grid md:grid-cols-2 gap-6 mt-8">
    <!-- Glows -->
    <div class="space-y-4">
      <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest">Glows</h3>
      <div class="p-4 bg-navy/40 border border-navy-light/20 rounded-xl flex items-center gap-4">
        <div class="w-12 h-12 rounded-lg bg-buoy glow-buoy shrink-0"></div>
        <div>
          <div class="font-mono text-sm text-light">.glow-buoy</div>
          <div class="font-mono text-xs text-slate-dark">box-shadow: 0 0 30px buoy/40%</div>
        </div>
      </div>
      <div class="p-4 bg-navy/40 border border-navy-light/20 rounded-xl flex items-center gap-4">
        <div class="w-12 h-12 rounded-lg bg-lavender glow-lavender shrink-0"></div>
        <div>
          <div class="font-mono text-sm text-light">.glow-lavender</div>
          <div class="font-mono text-xs text-slate-dark">box-shadow: 0 0 30px lavender/30%</div>
        </div>
      </div>
    </div>

    <!-- Text Gradients -->
    <div class="space-y-4">
      <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest">Text Gradients</h3>
      <div class="p-4 bg-navy/40 border border-navy-light/20 rounded-xl">
        <div class="text-3xl font-extrabold text-gradient-sunrise font-[Quicksand] mb-2">Catch Design Drift</div>
        <div class="font-mono text-xs text-slate-dark">.text-gradient-sunrise</div>
        <div class="font-mono text-xs text-slate-dark mt-1">buoy ‚Üí sunrise ‚Üí lavender at 135¬∞</div>
      </div>
    </div>

    <!-- Animations -->
    <div class="space-y-4 md:col-span-2">
      <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest">Animations</h3>
      <div class="grid sm:grid-cols-3 gap-4">
        <div class="p-4 bg-navy/40 border border-navy-light/20 rounded-xl text-center">
          <div class="text-4xl mb-3 animate-float">‚õµ</div>
          <div class="font-mono text-sm text-light">.animate-float</div>
          <div class="font-mono text-xs text-slate-dark mt-1">6s ease-in-out infinite ‚Äî vertical bob</div>
        </div>
        <div class="p-4 bg-navy/40 border border-navy-light/20 rounded-xl text-center">
          <div class="text-4xl mb-3 animate-pulse-glow">‚õµ</div>
          <div class="font-mono text-sm text-light">.animate-pulse-glow</div>
          <div class="font-mono text-xs text-slate-dark mt-1">3s ease-in-out infinite ‚Äî opacity pulse</div>
        </div>
        <div class="p-4 bg-navy/40 border border-navy-light/20 rounded-xl text-center">
          <div class="text-4xl mb-3 animate-wave">‚õµ</div>
          <div class="font-mono text-sm text-light">.animate-wave</div>
          <div class="font-mono text-xs text-slate-dark mt-1">8s ease-in-out infinite ‚Äî lateral sway</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Motion section -->
<section id="motion" class="scroll-mt-16">
  <h2 class="ds-section-heading">Motion</h2>
  <p class="ds-section-sub">All animation in Plumb follows a nautical physics model. The ‚õµ boat is the system mascot ‚Äî its motion vocabulary defines how every transition feels.</p>

  <!-- CSS Keyframe Animations -->
  <div class="mb-16 mt-8">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">CSS Keyframe Animations</h3>
    <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">

      <!-- boatBob -->
      <div class="p-5 bg-navy/40 border border-navy-light/20 rounded-xl">
        <div class="h-20 flex items-center justify-center mb-4">
          <span class="text-4xl ds-demo-bob">‚õµ</span>
        </div>
        <div class="font-mono text-sm text-buoy mb-1">boatBob</div>
        <div class="font-mono text-xs text-slate-dark mb-3">4s ease-in-out infinite</div>
        <pre class="text-xs text-slate font-mono bg-navy-dark/60 rounded-lg p-3 overflow-x-auto"><code set:html={`@keyframes boatBob {\n  0%, 100% {\n    transform:\n      translateY(0)\n      rotate(0deg);\n  }\n  50% {\n    transform:\n      translateY(-15px)\n      rotate(3deg);\n  }\n}`}></code></pre>
      </div>

      <!-- boatDrift -->
      <div class="p-5 bg-navy/40 border border-navy-light/20 rounded-xl">
        <div class="h-20 flex items-center justify-center mb-4 overflow-hidden rounded-lg bg-navy-dark/40 relative">
          <span class="text-3xl ds-demo-drift absolute">‚õµ</span>
        </div>
        <div class="font-mono text-sm text-buoy mb-1">boatDrift</div>
        <div class="font-mono text-xs text-slate-dark mb-3">25s linear infinite</div>
        <pre class="text-xs text-slate font-mono bg-navy-dark/60 rounded-lg p-3 overflow-x-auto"><code set:html={`@keyframes boatDrift {\n  0%   { left: -5%; }\n  100% { left: 105%; }\n}`}></code></pre>
      </div>

      <!-- splashDroplet -->
      <div class="p-5 bg-navy/40 border border-navy-light/20 rounded-xl">
        <div class="h-20 flex items-center justify-center mb-4">
          <div class="relative w-0 h-0">
            <div class="ds-splash-dot ds-drop-a"></div>
            <div class="ds-splash-dot ds-drop-b"></div>
            <div class="ds-splash-dot ds-drop-c"></div>
            <div class="ds-splash-dot ds-drop-d"></div>
            <div class="ds-splash-dot ds-drop-e"></div>
          </div>
        </div>
        <div class="font-mono text-sm text-buoy mb-1">splashDroplet</div>
        <div class="font-mono text-xs text-slate-dark mb-3">0.4‚Äì0.7s ease-out, fan spread</div>
        <pre class="text-xs text-slate font-mono bg-navy-dark/60 rounded-lg p-3 overflow-x-auto"><code set:html={`@keyframes splashDroplet {\n  0% {\n    transform:\n      translate(0,0) scale(1);\n    opacity: 0.8;\n  }\n  100% {\n    transform:\n      translate(var(--dx),var(--dy))\n      scale(0.2);\n    opacity: 0;\n  }\n}`}></code></pre>
      </div>

      <!-- splashRing -->
      <div class="p-5 bg-navy/40 border border-navy-light/20 rounded-xl">
        <div class="h-20 flex items-center justify-center mb-4">
          <div class="relative w-0 h-0">
            <div class="ds-demo-ring"></div>
          </div>
        </div>
        <div class="font-mono text-sm text-buoy mb-1">splashRing</div>
        <div class="font-mono text-xs text-slate-dark mb-3">0.7s ease-out, elliptical expand</div>
        <pre class="text-xs text-slate font-mono bg-navy-dark/60 rounded-lg p-3 overflow-x-auto"><code set:html={`@keyframes splashRing {\n  0% {\n    transform:\n      translate(-50%,-50%)\n      scale(0.5);\n    opacity: 0.6;\n  }\n  100% {\n    transform:\n      translate(-50%,-50%)\n      scale(4, 2);\n    opacity: 0;\n  }\n}`}></code></pre>
      </div>

    </div>
  </div>

  <!-- Motion Choreography -->
  <div class="mb-16">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">Motion Choreography ‚Äî The Boat Escape</h3>
    <p class="text-slate text-sm mb-6 max-w-2xl">Five phases play out in sequence when the page loads. Each uses a different easing curve chosen for its physical feel. Hover each card to replay the curve animation.</p>

    <div class="space-y-4">

      <!-- Phase 1: Wiggle -->
      <div class="p-5 bg-navy/40 border border-navy-light/20 rounded-xl flex flex-col sm:flex-row gap-5">
        <div class="shrink-0 flex items-center gap-3">
          <div class="w-8 h-8 rounded-full bg-buoy/20 border border-buoy/40 flex items-center justify-center font-mono text-xs text-buoy font-bold">1</div>
          <span class="text-3xl ds-demo-wiggle">‚õµ</span>
        </div>
        <div class="flex-1">
          <div class="font-mono text-sm text-light mb-1">Wiggle <span class="text-slate-dark">‚Äî anticipation</span></div>
          <div class="font-mono text-xs text-slate-dark mb-2">600ms ¬∑ ease-in-out ¬∑ 8 keyframes</div>
          <div class="text-xs text-slate">Builds tension before the break. Rotates ¬±12¬∞ in a stuttering rattle ‚Äî the boat is trying to escape. Disney's "anticipation" principle.</div>
        </div>
        <div class="shrink-0">
          <svg viewBox="-5 -5 110 110" class="w-20 h-20" aria-label="ease-in-out bezier curve">
            <line x1="0" y1="100" x2="100" y2="100" stroke="currentColor" class="text-navy-light/30" stroke-width="0.5"/>
            <line x1="0" y1="0" x2="0" y2="100" stroke="currentColor" class="text-navy-light/30" stroke-width="0.5"/>
            <line x1="0" y1="100" x2="42" y2="100" stroke="currentColor" class="text-slate-dark/50" stroke-width="0.75" stroke-dasharray="3 2"/>
            <line x1="100" y1="0" x2="58" y2="0" stroke="currentColor" class="text-slate-dark/50" stroke-width="0.75" stroke-dasharray="3 2"/>
            <path d="M 0,100 C 42,100 58,0 100,0" fill="none" stroke="currentColor" class="text-buoy" stroke-width="2"/>
            <circle cx="42" cy="100" r="3.5" fill="currentColor" class="text-lavender"/>
            <circle cx="58" cy="0" r="3.5" fill="currentColor" class="text-lavender"/>
            <circle cx="0" cy="100" r="3" fill="currentColor" class="text-light"/>
            <circle cx="100" cy="0" r="3" fill="currentColor" class="text-light"/>
          </svg>
          <div class="font-mono text-xs text-slate-dark text-center mt-1">ease-in-out</div>
        </div>
      </div>

      <!-- Phase 2: Lift -->
      <div class="p-5 bg-navy/40 border border-navy-light/20 rounded-xl flex flex-col sm:flex-row gap-5">
        <div class="shrink-0 flex items-center gap-3">
          <div class="w-8 h-8 rounded-full bg-buoy/20 border border-buoy/40 flex items-center justify-center font-mono text-xs text-buoy font-bold">2</div>
          <span class="text-3xl ds-demo-lift">‚õµ</span>
        </div>
        <div class="flex-1">
          <div class="font-mono text-sm text-light mb-1">Anticipation Lift <span class="text-slate-dark">‚Äî secondary action</span></div>
          <div class="font-mono text-xs text-slate-dark mb-2">120ms ¬∑ ease-out ¬∑ translateY(-6px)</div>
          <div class="text-xs text-slate">A small upward feint before the drop. Creates the illusion of stored energy ‚Äî like a diver crouching before the leap.</div>
        </div>
        <div class="shrink-0">
          <svg viewBox="-5 -5 110 110" class="w-20 h-20" aria-label="ease-out bezier curve">
            <line x1="0" y1="100" x2="100" y2="100" stroke="currentColor" class="text-navy-light/30" stroke-width="0.5"/>
            <line x1="0" y1="0" x2="0" y2="100" stroke="currentColor" class="text-navy-light/30" stroke-width="0.5"/>
            <line x1="0" y1="100" x2="0" y2="100" stroke="currentColor" class="text-slate-dark/50" stroke-width="0.75" stroke-dasharray="3 2"/>
            <line x1="100" y1="0" x2="58" y2="0" stroke="currentColor" class="text-slate-dark/50" stroke-width="0.75" stroke-dasharray="3 2"/>
            <path d="M 0,100 C 0,100 58,0 100,0" fill="none" stroke="currentColor" class="text-buoy" stroke-width="2"/>
            <circle cx="0" cy="100" r="3.5" fill="currentColor" class="text-lavender"/>
            <circle cx="58" cy="0" r="3.5" fill="currentColor" class="text-lavender"/>
            <circle cx="0" cy="100" r="3" fill="currentColor" class="text-light"/>
            <circle cx="100" cy="0" r="3" fill="currentColor" class="text-light"/>
          </svg>
          <div class="font-mono text-xs text-slate-dark text-center mt-1">ease-out</div>
        </div>
      </div>

      <!-- Phase 3: Drop (gravity + bounce) -->
      <div class="p-5 bg-navy/40 border border-navy-light/20 rounded-xl flex flex-col sm:flex-row gap-5">
        <div class="shrink-0 flex items-center gap-3">
          <div class="w-8 h-8 rounded-full bg-buoy/20 border border-buoy/40 flex items-center justify-center font-mono text-xs text-buoy font-bold">3</div>
          <span class="text-3xl ds-demo-drop">‚õµ</span>
        </div>
        <div class="flex-1">
          <div class="font-mono text-sm text-light mb-1">Drop <span class="text-slate-dark">‚Äî gravity + soft bounce</span></div>
          <div class="font-mono text-xs text-slate-dark mb-2">500ms ¬∑ cubic-bezier(0.4, 0, 0.68, 1.4)</div>
          <div class="text-xs text-slate mb-2">The y2 value of 1.4 overshoots the target ‚Äî the boat dips slightly below the waterline before springing back. Paired with the splash at impact.</div>
          <div class="font-mono text-xs text-buoy">cubic-bezier(0.4, 0, 0.68, 1.4)</div>
        </div>
        <div class="shrink-0">
          <svg viewBox="-5 -50 110 165" class="w-20 h-28" aria-label="cubic-bezier(0.4, 0, 0.68, 1.4) ‚Äî drop with overshoot">
            <line x1="0" y1="100" x2="100" y2="100" stroke="currentColor" class="text-navy-light/30" stroke-width="0.5"/>
            <line x1="0" y1="0" x2="0" y2="100" stroke="currentColor" class="text-navy-light/30" stroke-width="0.5"/>
            <line x1="0" y1="0" x2="0" y2="-40" stroke="currentColor" class="text-navy-light/20" stroke-width="0.5" stroke-dasharray="2 2"/>
            <line x1="0" y1="100" x2="40" y2="100" stroke="currentColor" class="text-slate-dark/50" stroke-width="0.75" stroke-dasharray="3 2"/>
            <line x1="100" y1="0" x2="68" y2="-40" stroke="currentColor" class="text-slate-dark/50" stroke-width="0.75" stroke-dasharray="3 2"/>
            <path d="M 0,100 C 40,100 68,-40 100,0" fill="none" stroke="currentColor" class="text-buoy" stroke-width="2"/>
            <circle cx="40" cy="100" r="3.5" fill="currentColor" class="text-lavender"/>
            <circle cx="68" cy="-40" r="3.5" fill="currentColor" class="text-lavender"/>
            <circle cx="0" cy="100" r="3" fill="currentColor" class="text-light"/>
            <circle cx="100" cy="0" r="3" fill="currentColor" class="text-light"/>
            <text x="72" y="-43" font-size="7" fill="currentColor" class="text-slate-dark" font-family="monospace">y2=1.4</text>
          </svg>
          <div class="font-mono text-xs text-slate-dark text-center mt-1">overshoot</div>
        </div>
      </div>

      <!-- Phase 4: Launch ease-in -->
      <div class="p-5 bg-navy/40 border border-navy-light/20 rounded-xl flex flex-col sm:flex-row gap-5">
        <div class="shrink-0 flex items-center gap-3">
          <div class="w-8 h-8 rounded-full bg-buoy/20 border border-buoy/40 flex items-center justify-center font-mono text-xs text-buoy font-bold">4</div>
          <div class="w-24 h-10 bg-navy-dark/40 rounded overflow-hidden relative flex items-center">
            <span class="text-xl ds-demo-launch absolute">‚õµ</span>
          </div>
        </div>
        <div class="flex-1">
          <div class="font-mono text-sm text-light mb-1">Launch Ease-In <span class="text-slate-dark">‚Äî follow through</span></div>
          <div class="font-mono text-xs text-slate-dark mb-2">3000ms ¬∑ cubic-bezier(0.3, 0, 0.8, 0.8)</div>
          <div class="text-xs text-slate mb-2">After landing, the boat accelerates from rest to cruise speed over 3 seconds. The curve starts nearly flat (stationary) then steepens to match the 25s drift animation speed, so the handoff is seamless.</div>
          <div class="font-mono text-xs text-buoy">cubic-bezier(0.3, 0, 0.8, 0.8)</div>
        </div>
        <div class="shrink-0">
          <svg viewBox="-5 -5 110 110" class="w-20 h-20" aria-label="cubic-bezier(0.3, 0, 0.8, 0.8) ‚Äî ease in to cruise speed">
            <line x1="0" y1="100" x2="100" y2="100" stroke="currentColor" class="text-navy-light/30" stroke-width="0.5"/>
            <line x1="0" y1="0" x2="0" y2="100" stroke="currentColor" class="text-navy-light/30" stroke-width="0.5"/>
            <line x1="0" y1="100" x2="30" y2="100" stroke="currentColor" class="text-slate-dark/50" stroke-width="0.75" stroke-dasharray="3 2"/>
            <line x1="100" y1="0" x2="80" y2="20" stroke="currentColor" class="text-slate-dark/50" stroke-width="0.75" stroke-dasharray="3 2"/>
            <path d="M 0,100 C 30,100 80,20 100,0" fill="none" stroke="currentColor" class="text-buoy" stroke-width="2"/>
            <circle cx="30" cy="100" r="3.5" fill="currentColor" class="text-lavender"/>
            <circle cx="80" cy="20" r="3.5" fill="currentColor" class="text-lavender"/>
            <circle cx="0" cy="100" r="3" fill="currentColor" class="text-light"/>
            <circle cx="100" cy="0" r="3" fill="currentColor" class="text-light"/>
          </svg>
          <div class="font-mono text-xs text-slate-dark text-center mt-1">ease-in</div>
        </div>
      </div>

      <!-- Phase 5: Bobber pop (underwater ‚Üí surface) -->
      <div class="p-5 bg-navy/40 border border-navy-light/20 rounded-xl flex flex-col sm:flex-row gap-5">
        <div class="shrink-0 flex items-center gap-3">
          <div class="w-8 h-8 rounded-full bg-buoy/20 border border-buoy/40 flex items-center justify-center font-mono text-xs text-buoy font-bold">5</div>
          <span class="text-3xl ds-demo-pop">‚õµ</span>
        </div>
        <div class="flex-1">
          <div class="font-mono text-sm text-light mb-1">Bobber Pop <span class="text-slate-dark">‚Äî spring overshoot</span></div>
          <div class="font-mono text-xs text-slate-dark mb-2">650ms ¬∑ cubic-bezier(0.175, 0.885, 0.32, 1.55)</div>
          <div class="text-xs text-slate mb-2">When the boat is released underwater, it shoots straight up and overshoots the surface before settling. The y2=1.55 creates a strong elastic spring ‚Äî the buoy physics.</div>
          <div class="font-mono text-xs text-buoy">cubic-bezier(0.175, 0.885, 0.32, 1.55)</div>
        </div>
        <div class="shrink-0">
          <svg viewBox="-5 -65 110 175" class="w-20 h-32" aria-label="cubic-bezier(0.175, 0.885, 0.32, 1.55) ‚Äî spring overshoot">
            <line x1="0" y1="100" x2="100" y2="100" stroke="currentColor" class="text-navy-light/30" stroke-width="0.5"/>
            <line x1="0" y1="0" x2="0" y2="100" stroke="currentColor" class="text-navy-light/30" stroke-width="0.5"/>
            <line x1="0" y1="0" x2="0" y2="-55" stroke="currentColor" class="text-navy-light/20" stroke-width="0.5" stroke-dasharray="2 2"/>
            <line x1="0" y1="100" x2="17.5" y2="11.5" stroke="currentColor" class="text-slate-dark/50" stroke-width="0.75" stroke-dasharray="3 2"/>
            <line x1="100" y1="0" x2="32" y2="-55" stroke="currentColor" class="text-slate-dark/50" stroke-width="0.75" stroke-dasharray="3 2"/>
            <path d="M 0,100 C 17.5,11.5 32,-55 100,0" fill="none" stroke="currentColor" class="text-buoy" stroke-width="2"/>
            <circle cx="17.5" cy="11.5" r="3.5" fill="currentColor" class="text-lavender"/>
            <circle cx="32" cy="-55" r="3.5" fill="currentColor" class="text-lavender"/>
            <circle cx="0" cy="100" r="3" fill="currentColor" class="text-light"/>
            <circle cx="100" cy="0" r="3" fill="currentColor" class="text-light"/>
            <text x="34" y="-57" font-size="7" fill="currentColor" class="text-slate-dark" font-family="monospace">y2=1.55</text>
          </svg>
          <div class="font-mono text-xs text-slate-dark text-center mt-1">spring</div>
        </div>
      </div>

    </div>
  </div>

  <!-- Easing token reference -->
  <div class="mb-4">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">Easing Tokens</h3>
    <div class="space-y-3">
      <div class="flex items-center gap-4 p-4 bg-navy/40 border border-navy-light/20 rounded-xl font-mono text-sm">
        <div class="w-40 text-buoy shrink-0">--ease-out-expo</div>
        <div class="text-slate">cubic-bezier(0.16, 1, 0.3, 1)</div>
        <div class="text-slate-dark text-xs">Fast out ‚Äî UI transitions, reveals</div>
      </div>
      <div class="flex items-center gap-4 p-4 bg-navy/40 border border-navy-light/20 rounded-xl font-mono text-sm">
        <div class="w-40 text-buoy shrink-0">--ease-in-out-expo</div>
        <div class="text-slate">cubic-bezier(0.87, 0, 0.13, 1)</div>
        <div class="text-slate-dark text-xs">Symmetric expo ‚Äî modals, drawers</div>
      </div>
    </div>
  </div>

</section>

    <!-- Components section -->
<section id="components" class="scroll-mt-16">
  <h2 class="ds-section-heading">Components</h2>
  <p class="ds-section-sub">Live instances of every component, every variant. No mocks ‚Äî what you see is what ships.</p>

  <!-- Button -->
  <div class="mb-16 mt-8">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">Button ‚Äî <code class="ds-code">src/components/Button.astro</code></h3>
    <div class="overflow-x-auto">
      <table class="w-full text-sm">
        <thead>
          <tr class="text-left border-b border-navy-light/20">
            <th class="pb-3 pr-8 font-mono text-xs text-slate-dark font-normal">variant / size</th>
            <th class="pb-3 pr-8 font-mono text-xs text-slate-dark font-normal">sm</th>
            <th class="pb-3 pr-8 font-mono text-xs text-slate-dark font-normal">md (default)</th>
            <th class="pb-3 font-mono text-xs text-slate-dark font-normal">lg</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-navy-light/10">
          <tr>
            <td class="py-4 pr-8 font-mono text-xs text-slate">primary</td>
            <td class="py-4 pr-8"><Button size="sm">Label</Button></td>
            <td class="py-4 pr-8"><Button size="md">Label</Button></td>
            <td class="py-4"><Button size="lg">Label</Button></td>
          </tr>
          <tr>
            <td class="py-4 pr-8 font-mono text-xs text-slate">secondary</td>
            <td class="py-4 pr-8"><Button variant="secondary" size="sm">Label</Button></td>
            <td class="py-4 pr-8"><Button variant="secondary" size="md">Label</Button></td>
            <td class="py-4"><Button variant="secondary" size="lg">Label</Button></td>
          </tr>
          <tr>
            <td class="py-4 pr-8 font-mono text-xs text-slate">ghost</td>
            <td class="py-4 pr-8"><Button variant="ghost" size="sm">Label</Button></td>
            <td class="py-4 pr-8"><Button variant="ghost" size="md">Label</Button></td>
            <td class="py-4"><Button variant="ghost" size="lg">Label</Button></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="mt-4 p-4 bg-navy-dark/60 border border-navy-light/10 rounded-lg font-mono text-xs">
      <div class="text-slate mb-2">Token usage inside Button.astro:</div>
      <div class="text-slate-dark">primary: <span class="text-buoy">bg-buoy</span> text-navy-dark hover:bg-buoy-light glow-buoy</div>
      <div class="text-slate-dark">secondary: <span class="text-lavender">bg-navy-light/50</span> text-light border-navy-light/50</div>
      <div class="text-slate-dark">ghost: text-slate hover:text-light hover:bg-navy-light/30</div>
    </div>
  </div>

  <!-- FeatureCard -->
  <div class="mb-16">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">FeatureCard ‚Äî <code class="ds-code">src/components/FeatureCard.astro</code></h3>
    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
      <FeatureCard
        title="With Link"
        description="Cards with href get a hover glow, clickable title, and a Learn more CTA at the bottom."
        icon="üõü"
        href="/features/drift-detection"
        examples={['token.violation', 'hardcoded.value']}
      />
      <FeatureCard
        title="Without Link"
        description="Static cards omit the link affordance entirely. Same token usage throughout."
        icon="‚öì"
        examples={['pattern.match', 'rule.enforced']}
      />
      <FeatureCard
        title="Minimal"
        description="No icon, no examples, no link. Just a title and description using the same border and bg tokens."
      />
    </div>
  </div>

  <!-- Terminal -->
  <div class="mb-16">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">Terminal ‚Äî <code class="ds-code">src/components/Terminal.astro</code></h3>
    <div class="max-w-2xl">
      <Terminal
        command="npx ahoybuoy drift check"
        lines={[
          { text: '', type: 'output', delay: 400 },
          { text: 'üõü Scanning <span class="text-buoy">design-system.astro</span>...', type: 'output', delay: 600 },
          { text: '', type: 'output', delay: 800 },
          { text: '<span class="text-success font-semibold">‚úì 0 issues found</span>', type: 'success', delay: 1000 },
          { text: '', type: 'output', delay: 1200 },
          { text: 'All tokens resolve to design system values.', type: 'muted', delay: 1400 },
          { text: 'No hardcoded colors, spacing, or typography.', type: 'muted', delay: 1600 },
        ]}
      />
    </div>
    <div class="mt-4 p-4 bg-navy-dark/60 border border-navy-light/10 rounded-lg font-mono text-xs">
      <div class="text-slate mb-2">Line type ‚Üí color token mapping:</div>
      <div class="flex gap-4 py-0.5"><span class="w-16 text-slate-dark">output</span><span class="w-32 text-slate">text-slate</span><span class="text-slate-dark">--color-slate</span></div>
      <div class="flex gap-4 py-0.5"><span class="w-16 text-slate-dark">success</span><span class="w-32 text-success">text-success</span><span class="text-slate-dark">--color-success</span></div>
      <div class="flex gap-4 py-0.5"><span class="w-16 text-slate-dark">warning</span><span class="w-32 text-warning">text-warning</span><span class="text-slate-dark">--color-warning</span></div>
      <div class="flex gap-4 py-0.5"><span class="w-16 text-slate-dark">critical</span><span class="w-32 text-critical">text-critical</span><span class="text-slate-dark">--color-critical</span></div>
      <div class="flex gap-4 py-0.5"><span class="w-16 text-slate-dark">info</span><span class="w-32 text-info">text-info</span><span class="text-slate-dark">--color-info</span></div>
      <div class="flex gap-4 py-0.5"><span class="w-16 text-slate-dark">muted</span><span class="w-32 text-slate-dark">text-slate-dark</span><span class="text-slate-dark">--color-slate-dark</span></div>
    </div>
  </div>

  <!-- Status Badges -->
  <div class="mb-4">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">Status Badges</h3>
    <div class="flex flex-wrap gap-3">
      <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-success/10 border border-success/30 text-success text-sm font-medium">
        <span class="w-2 h-2 rounded-full bg-success"></span>
        success
      </div>
      <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-warning/10 border border-warning/30 text-warning text-sm font-medium">
        <span class="w-2 h-2 rounded-full bg-warning"></span>
        warning
      </div>
      <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-critical/10 border border-critical/30 text-critical text-sm font-medium">
        <span class="w-2 h-2 rounded-full bg-critical"></span>
        critical
      </div>
      <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-info/10 border border-info/30 text-info text-sm font-medium">
        <span class="w-2 h-2 rounded-full bg-info"></span>
        info
      </div>
    </div>
  </div>

  <!-- CodeBlock -->
  <div class="mb-16">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">CodeBlock ‚Äî <code class="ds-code">src/components/CodeBlock.astro</code></h3>
    <div class="space-y-4">
      <div>
        <div class="text-xs text-slate-dark font-mono mb-2">language="bash" (default)</div>
        <CodeBlock code={codeSnippets.bash} language="bash" />
      </div>
      <div>
        <div class="text-xs text-slate-dark font-mono mb-2">With filename + copy button</div>
        <CodeBlock code={codeSnippets.config} language="js" filename="buoy.config.mjs" />
      </div>
      <div>
        <div class="text-xs text-slate-dark font-mono mb-2">showLineNumbers + highlighted lines</div>
        <CodeBlock code={codeSnippets.withHighlight} language="js" filename="example.js" showLineNumbers={true} highlights={[3]} />
      </div>
    </div>
    <div class="mt-4 p-4 bg-navy-dark/60 border border-navy-light/10 rounded-lg font-mono text-xs">
      <div class="text-slate mb-1">Props: <span class="text-buoy">code*</span> ¬∑ <span class="text-buoy">language</span>='bash' ¬∑ <span class="text-buoy">filename</span> ¬∑ <span class="text-buoy">highlights</span> ¬∑ <span class="text-buoy">showLineNumbers</span></div>
      <div class="text-slate-dark">Hover: lavender/10‚Üíbuoy/5 blur ¬∑ Copy button: slate‚Üíbuoy ¬∑ Check icon 2s then reset</div>
    </div>
  </div>

  <!-- DocTerminal -->
  <div class="mb-16">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">DocTerminal ‚Äî <code class="ds-code">src/components/DocTerminal.astro</code></h3>
    <p class="text-sm text-slate mb-4">Static terminal for docs. Unlike <code class="ds-code">Terminal.astro</code>, renders all lines immediately with no animation delays. Has a copy button in the title bar.</p>
    <div class="max-w-2xl">
      <DocTerminal
        command="npx ahoybuoy show tokens --format table"
        lines={[
          { text: '' },
          { text: 'TOKEN                   VALUE', type: 'muted' },
          { text: '--color-buoy            #F97316', type: 'output' },
          { text: '--color-navy            #1a2744', type: 'output' },
          { text: '--color-lavender        #8B5CF6', type: 'output' },
          { text: '' },
          { text: '3 tokens found', type: 'success' },
        ]}
      />
    </div>
    <div class="mt-4 p-4 bg-navy-dark/60 border border-navy-light/10 rounded-lg font-mono text-xs">
      <div class="text-slate mb-1">Props: <span class="text-buoy">command*</span> ¬∑ <span class="text-buoy">lines</span> (same type tokens as Terminal)</div>
      <div class="text-slate-dark">bg-navy-dark border-navy-light/30 ¬∑ Copy in title bar ¬∑ No delays or JS typing animation</div>
    </div>
  </div>

  <!-- Flags -->
  <div class="mb-16">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">Flags ‚Äî <code class="ds-code">src/components/Flags.astro</code></h3>
    <p class="text-sm text-slate mb-4">CLI flag reference list for docs pages. Renders a scannable list of flag names, descriptions, required badges, and defaults.</p>
    <Flags items={flagItems} />
    <div class="mt-4 p-4 bg-navy-dark/60 border border-navy-light/10 rounded-lg font-mono text-xs">
      <div class="text-slate mb-1">Props: <span class="text-buoy">items*</span> ‚Äî Array of <span class="text-buoy">{'{ name, description, required?, default? }'}</span></div>
      <div class="text-slate-dark">Flag: text-lavender bg-navy-light/20 ¬∑ required: bg-critical/20 text-critical ¬∑ default: text-slate-dark</div>
    </div>
  </div>

  <!-- WaveBackground -->
  <div class="mb-16">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">WaveBackground ‚Äî <code class="ds-code">src/components/WaveBackground.astro</code></h3>
    <p class="text-sm text-slate mb-4">Animated hero background. Always <code class="ds-code">position: absolute; inset: 0</code> ‚Äî wrap in a <code class="ds-code">relative overflow-hidden</code> container with a defined height.</p>
    <div class="relative rounded-xl overflow-hidden h-48">
      <WaveBackground />
      <div class="relative z-10 flex items-center justify-center h-full gap-3">
        <span class="text-2xl">üõü</span>
        <span class="text-light font-semibold font-[Quicksand]">Content renders above via z-index</span>
      </div>
    </div>
    <div class="mt-4 p-4 bg-navy-dark/60 border border-navy-light/10 rounded-lg font-mono text-xs">
      <div class="text-slate mb-1">No props. 3 wave layers + SVG stars + 8 floating particles + mesh gradient overlay.</div>
      <div class="text-slate-dark">Light mode: daytime ocean scene ¬∑ Mobile: blur filters, particles, and star animations disabled</div>
    </div>
  </div>

  <!-- Nav -->
  <div class="mb-16">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">Nav ‚Äî <code class="ds-code">src/components/Nav.astro</code></h3>
    <p class="text-sm text-slate mb-4">Fixed full-width navigation. Renders as <code class="ds-code">position: fixed; top: 0; z-50</code> ‚Äî already active at the top of this page. Not safe to embed inline.</p>
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl space-y-3">
      <div class="font-mono text-xs text-slate-dark uppercase tracking-widest mb-3">Anatomy</div>
      <div class="flex items-start gap-3 text-sm">
        <span class="w-2 h-2 rounded-full bg-buoy flex-shrink-0 mt-1.5"></span>
        <span class="text-slate">Bar: <code class="ds-code">backdrop-blur-md bg-navy-dark/80 border-b border-navy-light/20</code></span>
      </div>
      <div class="flex items-start gap-3 text-sm">
        <span class="w-2 h-2 rounded-full bg-lavender flex-shrink-0 mt-1.5"></span>
        <span class="text-slate">Dropdowns: CSS-only <code class="ds-code">opacity/visibility</code> on <code class="ds-code">group-hover</code>, no JS needed</span>
      </div>
      <div class="flex items-start gap-3 text-sm">
        <span class="w-2 h-2 rounded-full bg-success flex-shrink-0 mt-1.5"></span>
        <span class="text-slate">Mobile menu: JS toggles <code class="ds-code">hidden</code> class on <code class="ds-code">#mobile-menu</code></span>
      </div>
      <div class="flex items-start gap-3 text-sm">
        <span class="w-2 h-2 rounded-full bg-info flex-shrink-0 mt-1.5"></span>
        <span class="text-slate">Theme toggle: <code class="ds-code">localStorage</code> + <code class="ds-code">html.light</code> class, responds to <code class="ds-code">prefers-color-scheme</code></span>
      </div>
    </div>
    <div class="mt-4 p-4 bg-navy-dark/60 border border-navy-light/10 rounded-lg font-mono text-xs">
      <div class="text-slate mb-1">No props. Dropdown data arrays defined in component frontmatter.</div>
      <div class="text-slate-dark">CTA: bg-buoy glow-buoy hover:scale-105 ¬∑ Nav links: text-slate ‚Üí text-light</div>
    </div>
  </div>

  <!-- Footer -->
  <div class="mb-16">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">Footer ‚Äî <code class="ds-code">src/components/Footer.astro</code></h3>
    <p class="text-sm text-slate mb-4">Global page footer. No props ‚Äî social and legal links come from <code class="ds-code">siteConfig</code> in <code class="ds-code">src/config.ts</code>.</p>
    <div class="rounded-xl overflow-hidden border border-navy-light/20">
      <Footer />
    </div>
    <div class="mt-4 p-4 bg-navy-dark/60 border border-navy-light/10 rounded-lg font-mono text-xs">
      <div class="text-slate mb-1">No props. Social: <span class="text-buoy">siteConfig.githubUrl</span> ¬∑ <span class="text-buoy">twitterUrl</span> ¬∑ <span class="text-buoy">discordUrl</span></div>
      <div class="text-slate-dark">bg-navy-dark border-t border-navy-light/20 ¬∑ flex col‚Üírow at md ¬∑ links: text-slate‚Üítext-light</div>
    </div>
  </div>

  <!-- LeadMagnetForm -->
  <div class="mb-16">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">LeadMagnetForm ‚Äî <code class="ds-code">src/components/LeadMagnetForm.astro</code></h3>
    <p class="text-sm text-slate mb-4">Email capture form primitive. Used inside all lead magnet variants. Handles submit, loading, success, and error states.</p>
    <div class="max-w-lg">
      <LeadMagnetForm leadMagnet="pr-review-cheatsheet" buttonText="Get the Cheat Sheet" />
    </div>
    <div class="mt-4 p-4 bg-navy-dark/60 border border-navy-light/10 rounded-lg font-mono text-xs">
      <div class="text-slate mb-1">Props: <span class="text-buoy">leadMagnet*</span> ¬∑ <span class="text-buoy">buttonText</span>='Get the PDF' ¬∑ <span class="text-buoy">successMessage</span></div>
      <div class="text-slate-dark">Input: bg-navy-light/50 focus:border-buoy ¬∑ Button: bg-buoy glow-buoy hover:scale-105 ¬∑ Success: bg-green-500/20</div>
    </div>
  </div>

  <!-- LeadMagnetCallout -->
  <div class="mb-16">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">LeadMagnetCallout ‚Äî <code class="ds-code">src/components/LeadMagnetCallout.astro</code></h3>
    <p class="text-sm text-slate mb-4">Inline callout card for embedding lead capture in article or docs context. Switches to horizontal layout on large screens.</p>
    <LeadMagnetCallout
      leadMagnet="drift-checklist"
      headline="20 warning signs of design system drift"
      subhead="A checklist for your next code review. Spot drift before it compounds."
      buttonText="Get the Checklist"
    />
    <div class="mt-4 p-4 bg-navy-dark/60 border border-navy-light/10 rounded-lg font-mono text-xs">
      <div class="text-slate mb-1">Props: <span class="text-buoy">leadMagnet*</span> ¬∑ <span class="text-buoy">headline*</span> ¬∑ <span class="text-buoy">subhead*</span> ¬∑ <span class="text-buoy">buttonText</span>='Get the PDF'</div>
      <div class="text-slate-dark">bg-gradient buoy/10‚Üílavender/10 border-buoy/20 ¬∑ lg:flex-row ¬∑ "Free PDF" square badge</div>
    </div>
  </div>

  <!-- LeadMagnetCTA -->
  <div class="mb-16">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">LeadMagnetCTA ‚Äî <code class="ds-code">src/components/LeadMagnetCTA.astro</code></h3>
    <p class="text-sm text-slate mb-4">Full-width centered section CTA. Used at the bottom of content pages to offer a related PDF download.</p>
    <div class="rounded-xl overflow-hidden border border-navy-light/20">
      <LeadMagnetCTA
        leadMagnet="maturity-model"
        headline="Where does your design system stand?"
        subhead="Assess your maturity level and get a roadmap for what to fix next."
        buttonText="Get the Assessment"
      />
    </div>
    <div class="mt-4 p-4 bg-navy-dark/60 border border-navy-light/10 rounded-lg font-mono text-xs">
      <div class="text-slate mb-1">Props: <span class="text-buoy">leadMagnet*</span> ¬∑ <span class="text-buoy">headline*</span> ¬∑ <span class="text-buoy">subhead*</span> ¬∑ <span class="text-buoy">buttonText</span>='Get the PDF'</div>
      <div class="text-slate-dark">py-16 bg-navy centered text ¬∑ "Free PDF Download" pill badge ¬∑ max-w-md form</div>
    </div>
  </div>

  <!-- LeadCaptureSection -->
  <div class="mb-0">
    <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-6">LeadCaptureSection ‚Äî <code class="ds-code">src/components/LeadCaptureSection.astro</code></h3>
    <p class="text-sm text-slate mb-4">A/B-tested two-column lead capture with PDF preview mockup. PostHog feature flag <code class="ds-code">homepage-lead-magnet-variant</code> selects the active variant; defaults to <code class="ds-code">drift-checklist</code>.</p>
    <div class="rounded-xl overflow-hidden border border-navy-light/20">
      <LeadCaptureSection />
    </div>
    <div class="mt-4 p-4 bg-navy-dark/60 border border-navy-light/10 rounded-lg font-mono text-xs">
      <div class="text-slate mb-1">No props. 3 variants: <span class="text-buoy">drift-checklist</span> ¬∑ <span class="text-buoy">why-developers-bypass</span> ¬∑ <span class="text-buoy">maturity-model</span></div>
      <div class="text-slate-dark">A/B via PostHog ¬∑ PDF preview: rotate-1 hover:rotate-0 ¬∑ grid lg:grid-cols-2</div>
    </div>
  </div>

</section>

    <!-- Patterns section -->
<section id="patterns" class="scroll-mt-16">
  <h2 class="ds-section-heading">Patterns</h2>
  <p class="ds-section-sub">Recurring compositions built from the token primitives above.</p>

  <div class="space-y-8 mt-8">
    <!-- Section header pattern -->
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-4">Section Header</div>
      <div class="border-l-2 border-buoy pl-4">
        <h2 class="text-2xl font-bold text-light font-[Quicksand]">Section Title</h2>
        <p class="text-slate mt-1">Supporting description in text-slate. Always below the heading, never above.</p>
      </div>
      <div class="mt-4 font-mono text-xs text-slate-dark">border-buoy / text-light (display) / text-slate (body)</div>
    </div>

    <!-- Inline code pattern -->
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-4">Inline Code</div>
      <p class="text-slate">Run <code class="ds-code">npx ahoybuoy drift check</code> in your repo root. It reads <code class="ds-code">buoy.config.mjs</code> automatically.</p>
      <div class="mt-4 font-mono text-xs text-slate-dark">font-mono / text-buoy / bg-buoy/10 / border-radius: 4px</div>
    </div>

    <!-- CTA row pattern -->
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-4">CTA Row</div>
      <div class="flex flex-wrap gap-3">
        <Button href="#" size="lg">Primary Action</Button>
        <Button href="#" variant="secondary" size="lg">Secondary Action</Button>
        <Button href="#" variant="ghost" size="lg">Ghost Action</Button>
      </div>
      <div class="mt-4 font-mono text-xs text-slate-dark">Primary first, secondary second, ghost third. gap-3 between.</div>
    </div>

    <!-- Checkmark Benefit List -->
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-4">Checkmark Benefit List</div>
      <div class="space-y-4">
        <div class="flex items-start gap-3">
          <svg class="w-5 h-5 text-success flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
          </svg>
          <div>
            <h3 class="font-semibold text-light text-sm">Primary benefit title</h3>
            <p class="text-xs text-slate mt-0.5">Supporting description. One or two lines, parallel structure across all items.</p>
          </div>
        </div>
        <div class="flex items-start gap-3">
          <svg class="w-5 h-5 text-success flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
          </svg>
          <div>
            <h3 class="font-semibold text-light text-sm">Secondary benefit</h3>
            <p class="text-xs text-slate mt-0.5">Keep descriptions parallel in structure and length to the item above.</p>
          </div>
        </div>
      </div>
      <div class="mt-4 font-mono text-xs text-slate-dark">svg.text-success w-5 h-5 mt-0.5 shrink-0 / font-semibold text-light text-sm / text-xs text-slate</div>
    </div>

    <!-- FAQ Accordion -->
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-4">FAQ Accordion</div>
      <div class="space-y-3">
        <details class="group bg-navy/50 border border-navy-light/20 rounded-xl">
          <summary class="flex items-center justify-between p-4 cursor-pointer list-none">
            <span class="font-medium text-light text-sm">Is the free tier really free forever?</span>
            <svg class="w-5 h-5 text-slate group-open:rotate-180 transition-transform shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </summary>
          <div class="px-4 pb-4 text-slate text-sm">Yes. The CLI scanner is MIT-licensed and has no expiry.</div>
        </details>
        <details class="group bg-navy/50 border border-navy-light/20 rounded-xl">
          <summary class="flex items-center justify-between p-4 cursor-pointer list-none">
            <span class="font-medium text-light text-sm">How does the GitHub App work?</span>
            <svg class="w-5 h-5 text-slate group-open:rotate-180 transition-transform shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </summary>
          <div class="px-4 pb-4 text-slate text-sm">Install from GitHub Marketplace. It runs drift checks on every PR and posts inline fix suggestions.</div>
        </details>
      </div>
      <div class="mt-4 font-mono text-xs text-slate-dark">details.group bg-navy/50 border-navy-light/20 rounded-xl / group-open:rotate-180 transition-transform</div>
    </div>

    <!-- PDF / Conversion Badges -->
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-4">PDF / Conversion Badges</div>
      <div class="flex flex-wrap items-center gap-4 mb-4">
        <div class="inline-flex items-center gap-2 px-3 py-1 bg-buoy/10 border border-buoy/30 rounded-full text-buoy text-sm">
          Free PDF Download
        </div>
        <div class="inline-flex items-center gap-2 px-2 py-1 bg-buoy/20 rounded text-buoy text-xs font-medium">
          Free PDF
        </div>
      </div>
      <div class="font-mono text-xs text-slate-dark">Pill: rounded-full px-3 bg-buoy/10 border-buoy/30 text-buoy ¬∑ Badge: rounded px-2 bg-buoy/20 text-xs font-medium</div>
    </div>

    <!-- Limited Availability Notice -->
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-4">Limited Availability Notice</div>
      <div class="bg-navy-dark border border-buoy/30 rounded-xl p-4 max-w-sm">
        <h3 class="font-semibold text-light mb-2 flex items-center gap-2 text-sm">
          <span class="text-buoy">*</span> Limited availability
        </h3>
        <p class="text-sm text-slate">Only 100 founding member spots. Once they're gone, standard pricing applies.</p>
      </div>
      <div class="mt-4 font-mono text-xs text-slate-dark">bg-navy-dark border-buoy/30 rounded-xl ¬∑ text-buoy asterisk accent / font-semibold text-light + text-sm text-slate</div>
    </div>

    <!-- Pricing Tier Card -->
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-4">Pricing Tier Card</div>
      <div class="max-w-xs bg-navy-dark border border-navy-light/30 rounded-2xl p-6">
        <div class="flex items-baseline gap-2 mb-2">
          <span class="text-3xl font-bold text-light">$0</span>
          <span class="text-slate text-sm">/month</span>
        </div>
        <div class="inline-flex items-center px-3 py-1 bg-success/10 border border-success/30 rounded-full text-success text-xs font-medium mb-4">
          Free forever
        </div>
        <div class="space-y-2">
          <div class="flex items-center gap-2 text-sm text-slate">
            <svg class="w-4 h-4 text-success shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
            Full CLI scanner ‚Äî unlimited scans
          </div>
          <div class="flex items-center gap-2 text-sm text-slate">
            <svg class="w-4 h-4 text-success shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
            buoy.config.mjs rules engine
          </div>
          <div class="flex items-center gap-2 text-sm text-slate-dark">
            <svg class="w-4 h-4 text-navy-light shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
            GitHub App PR comments
          </div>
        </div>
      </div>
      <div class="mt-4 font-mono text-xs text-slate-dark">bg-navy-dark border-navy-light/30 rounded-2xl ¬∑ text-3xl font-bold ¬∑ success ring ¬∑ w-4 check/cross icons</div>
    </div>

  </div>
</section>

<!-- Footer CTA -->
<section class="text-center py-16 border-t border-navy-light/20">
  <div class="text-4xl mb-4">üõü</div>
  <h2 class="text-2xl font-bold text-light font-[Quicksand] mb-2">This page is the test</h2>
  <p class="text-slate mb-6 max-w-lg mx-auto">Every element above uses only design system tokens. Run buoy check against it anytime to confirm zero drift.</p>
  <div class="inline-flex items-center gap-3 px-4 py-3 bg-navy/80 border border-navy-light/30 rounded-lg font-mono text-sm">
    <span class="text-slate">$</span>
    <code class="text-light">npx ahoybuoy drift check src/pages/design-system.astro</code>
  </div>
</section>

  </main>
</Layout>

<style>
  .ds-section-heading {
    font-size: 1.875rem;
    font-weight: 800;
    color: var(--color-light);
    font-family: var(--font-display);
    margin-bottom: 0.5rem;
  }
  .ds-section-sub {
    color: var(--color-slate);
    max-width: 48rem;
  }
  .ds-code {
    font-family: var(--font-mono);
    font-size: 0.875em;
    color: var(--color-buoy);
    background: color-mix(in srgb, var(--color-buoy) 10%, transparent);
    padding: 0.1em 0.4em;
    border-radius: 4px;
  }
  .scroll-mt-16 {
    scroll-margin-top: 4rem;
  }

  /* Motion demo animations */
  @keyframes ds-bob {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-12px) rotate(3deg); }
  }
  @keyframes ds-drift {
    0% { left: -10%; }
    100% { left: 110%; }
  }
  @keyframes ds-drop {
    0% { transform: translateY(0); }
    10% { transform: translateY(-6px); }
    100% { transform: translateY(36px); }
  }
  @keyframes ds-pop {
    0% { transform: translateY(28px); }
    100% { transform: translateY(0); }
  }
  @keyframes ds-launch {
    0% { left: 2%; }
    100% { left: 85%; }
  }
  @keyframes ds-wiggle {
    0% { transform: rotate(0deg); }
    15% { transform: rotate(8deg) translateX(1px); }
    30% { transform: rotate(-7deg) translateX(-1px); }
    50% { transform: rotate(12deg) translateX(2px) translateY(-2px); }
    65% { transform: rotate(-10deg) translateX(-2px); }
    80% { transform: rotate(5deg) translateX(1px); }
    92% { transform: rotate(-2deg); }
    100% { transform: rotate(0deg); }
  }
  @keyframes ds-ring {
    0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.6; }
    100% { transform: translate(-50%, -50%) scale(4, 2); opacity: 0; }
  }
  @keyframes ds-splash-drop {
    0% { transform: translate(0, 0) scale(1); opacity: 0.8; }
    100% { transform: translate(var(--dx), var(--dy)) scale(0.2); opacity: 0; }
  }

  .ds-demo-bob {
    display: inline-block;
    animation: ds-bob 2s ease-in-out infinite;
  }
  .ds-demo-drift {
    animation: ds-drift 4s linear infinite, ds-bob 2s ease-in-out infinite;
  }
  .ds-demo-drop {
    display: inline-block;
    animation: ds-drop 500ms cubic-bezier(0.4, 0, 0.68, 1.4) infinite alternate;
  }
  .ds-demo-pop {
    display: inline-block;
    animation: ds-pop 650ms cubic-bezier(0.175, 0.885, 0.32, 1.55) infinite alternate;
  }
  .ds-demo-launch {
    animation: ds-launch 3s cubic-bezier(0.3, 0, 0.8, 0.8) infinite alternate;
  }
  .ds-demo-wiggle {
    display: inline-block;
    animation: ds-wiggle 1.5s ease-in-out infinite;
  }
  .ds-demo-ring {
    position: absolute;
    width: 20px;
    height: 8px;
    border-radius: 50%;
    border: 2px solid rgba(100, 180, 255, 0.5);
    left: 0;
    top: 0;
    animation: ds-ring 1.2s ease-out infinite;
  }
  :global(html.light) .ds-demo-ring {
    border-color: rgba(255, 255, 255, 0.75);
  }
  .ds-splash-dot {
    position: absolute;
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background: rgba(100, 180, 255, 0.65);
    left: 0;
    top: 0;
  }
  :global(html.light) .ds-splash-dot {
    background: rgba(255, 255, 255, 0.65);
  }
  /* Fan spread: -150¬∞ to -30¬∞, speed ~22-25px */
  .ds-drop-a { --dx: -19px; --dy: -11px; animation: ds-splash-drop 0.55s ease-out 0.02s infinite; }
  .ds-drop-b { --dx: -11px; --dy: -19px; animation: ds-splash-drop 0.48s ease-out 0.06s infinite; }
  .ds-drop-c { --dx:   0px; --dy: -25px; animation: ds-splash-drop 0.60s ease-out    0s infinite; }
  .ds-drop-d { --dx:  11px; --dy: -19px; animation: ds-splash-drop 0.52s ease-out 0.04s infinite; }
  .ds-drop-e { --dx:  19px; --dy: -11px; animation: ds-splash-drop 0.45s ease-out 0.07s infinite; }
</style>
