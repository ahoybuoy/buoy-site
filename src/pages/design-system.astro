---
import Layout from '../layouts/Layout.astro'
import Nav from '../components/Nav.astro'

const colorGroups = [
  {
    label: 'Navy',
    tokens: [
      { name: '--color-navy-dark',  tw: 'bg-navy-dark',  label: 'navy-dark',  dark: '#0f1829', light: '#FFFFFF' },
      { name: '--color-navy',       tw: 'bg-navy',       label: 'navy',       dark: '#1a2744', light: '#F0F4F8' },
      { name: '--color-navy-light', tw: 'bg-navy-light', label: 'navy-light', dark: '#243352', light: '#CBD5E1' },
    ]
  },
  {
    label: 'Brand — Buoy Orange',
    tokens: [
      { name: '--color-buoy',       tw: 'bg-buoy',       label: 'buoy',       dark: '#F97316', light: '#F97316' },
      { name: '--color-buoy-light', tw: 'bg-buoy-light', label: 'buoy-light', dark: '#FB923C', light: '#FB923C' },
      { name: '--color-buoy-dark',  tw: 'bg-buoy-dark',  label: 'buoy-dark',  dark: '#EA580C', light: '#EA580C' },
    ]
  },
  {
    label: 'Accent — Lavender',
    tokens: [
      { name: '--color-lavender',       tw: 'bg-lavender',       label: 'lavender',       dark: '#8B5CF6', light: '#6366F1' },
      { name: '--color-lavender-light', tw: 'bg-lavender-light', label: 'lavender-light', dark: '#A78BFA', light: '#818CF8' },
      { name: '--color-sky-purple',     tw: 'bg-sky-purple',     label: 'sky-purple',     dark: '#6366F1', light: '#4F46E5' },
    ]
  },
  {
    label: 'Sunrise',
    tokens: [
      { name: '--color-sunrise',       tw: 'bg-sunrise',       label: 'sunrise',       dark: '#F59E0B', light: '#F59E0B' },
      { name: '--color-sunrise-light', tw: 'bg-sunrise-light', label: 'sunrise-light', dark: '#FBBF24', light: '#FBBF24' },
    ]
  },
  {
    label: 'Text',
    tokens: [
      { name: '--color-light',       tw: 'bg-light',       label: 'light',       dark: '#F8FAFC', light: '#1A2744' },
      { name: '--color-light-muted', tw: 'bg-light-muted', label: 'light-muted', dark: '#E2E8F0', light: '#243352' },
      { name: '--color-slate',       tw: 'bg-slate',       label: 'slate',       dark: '#94A3B8', light: '#475569' },
      { name: '--color-slate-dark',  tw: 'bg-slate-dark',  label: 'slate-dark',  dark: '#64748B', light: '#94A3B8' },
    ]
  },
  {
    label: 'Semantic',
    tokens: [
      { name: '--color-success',  tw: 'bg-success',  label: 'success',  dark: '#10B981', light: '#059669' },
      { name: '--color-warning',  tw: 'bg-warning',  label: 'warning',  dark: '#F59E0B', light: '#D97706' },
      { name: '--color-critical', tw: 'bg-critical', label: 'critical', dark: '#EF4444', light: '#DC2626' },
      { name: '--color-info',     tw: 'bg-info',     label: 'info',     dark: '#3B82F6', light: '#2563EB' },
    ]
  },
]
---

<Layout title="Design System — Subsequent Saturn | Buoy">
  <Nav />

  <!-- Sticky section jump nav -->
  <header class="sticky top-0 z-40 bg-navy-dark/90 backdrop-blur-sm border-b border-navy-light/20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <nav aria-label="Page sections" class="flex items-center gap-6 overflow-x-auto py-3 text-sm font-medium">
        <a href="#colors" class="text-slate hover:text-light whitespace-nowrap transition-colors">Colors</a>
        <a href="#typography" class="text-slate hover:text-light whitespace-nowrap transition-colors">Typography</a>
        <a href="#spacing" class="text-slate hover:text-light whitespace-nowrap transition-colors">Spacing</a>
        <a href="#effects" class="text-slate hover:text-light whitespace-nowrap transition-colors">Effects</a>
        <a href="#components" class="text-slate hover:text-light whitespace-nowrap transition-colors">Components</a>
        <a href="#patterns" class="text-slate hover:text-light whitespace-nowrap transition-colors">Patterns</a>
      </nav>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 space-y-24">

    <!-- Hero header -->
    <section class="text-center max-w-3xl mx-auto">
      <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-success/10 border border-success/30 text-success text-sm font-mono mb-6">
        <span class="w-2 h-2 rounded-full bg-success animate-pulse"></span>
        0 drift issues detected
      </div>
      <h1 class="text-5xl font-extrabold text-light mb-4 font-[Quicksand]">
        Subsequent Saturn<br /><span class="text-buoy">Design System</span>
      </h1>
      <p class="text-slate text-lg">
        Every token, component, and pattern used in buoy-site — documented, live, and continuously checked for drift.
      </p>
    </section>

    <!-- Colors section -->
    <section id="colors" class="scroll-mt-16">
      <h2 class="ds-section-heading">Color Tokens</h2>
      <p class="ds-section-sub">All colors are CSS custom properties under <code class="ds-code">@theme</code> in <code class="ds-code">src/styles/global.css</code>. They respond to light mode automatically.</p>

      <div class="space-y-10 mt-8">
        {colorGroups.map(group => (
          <div>
            <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-3">{group.label}</h3>
            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3">
              {group.tokens.map(token => (
                <div class="rounded-xl overflow-hidden border border-navy-light/20 bg-navy/40">
                  <div class={`h-20 ${token.tw}`} role="img" aria-label={`${token.label} color swatch`}></div>
                  <div class="p-3 space-y-1">
                    <div class="font-mono text-xs text-buoy">{token.name}</div>
                    <div class="font-mono text-xs text-slate">tw: {token.label}</div>
                    <div class="text-xs text-slate-dark font-mono">◐ {token.dark}</div>
                    <div class="text-xs text-slate-dark font-mono">☀ {token.light}</div>
                  </div>
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>

    <!-- Typography section -->
<section id="typography" class="scroll-mt-16">
  <h2 class="ds-section-heading">Typography</h2>
  <p class="ds-section-sub">Three font families, each with a specific role. Set via CSS variables and applied in <code class="ds-code">global.css</code>.</p>

  <!-- Font Families -->
  <div class="grid md:grid-cols-3 gap-6 mb-12 mt-8">
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-mono text-slate-dark mb-2 uppercase tracking-widest">Display — --font-display</div>
      <div class="text-4xl font-bold text-light font-[Quicksand]">Quicksand</div>
      <div class="text-sm text-slate mt-2 font-mono">Quicksand, Satoshi, system-ui</div>
      <div class="mt-3 text-slate text-sm">Headings, hero text, brand moments</div>
    </div>
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-mono text-slate-dark mb-2 uppercase tracking-widest">Body — --font-body</div>
      <div class="text-4xl font-bold text-light">Inter</div>
      <div class="text-sm text-slate mt-2 font-mono">Inter, system-ui</div>
      <div class="mt-3 text-slate text-sm">Paragraphs, UI labels, descriptions</div>
    </div>
    <div class="p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="text-xs font-mono text-slate-dark mb-2 uppercase tracking-widest">Mono — --font-mono</div>
      <div class="text-4xl font-bold text-light font-mono">JetBrains</div>
      <div class="text-sm text-slate mt-2 font-mono">JetBrains Mono, Fira Code</div>
      <div class="mt-3 text-slate text-sm">Code, terminal output, token names</div>
    </div>
  </div>

  <!-- Type Scale -->
  <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest mb-4">Type Scale</h3>
  <div class="space-y-1 p-6 bg-navy/40 border border-navy-light/20 rounded-xl">
    <div class="flex items-baseline gap-6 py-3 border-b border-navy-light/10">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">h1</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-5xl</div>
      <span class="text-5xl font-extrabold text-light font-[Quicksand] leading-tight">Design Systems</span>
    </div>
    <div class="flex items-baseline gap-6 py-3 border-b border-navy-light/10">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">h2</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-4xl</div>
      <span class="text-4xl font-bold text-light font-[Quicksand]">Token-Driven</span>
    </div>
    <div class="flex items-baseline gap-6 py-3 border-b border-navy-light/10">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">h3</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-2xl</div>
      <span class="text-2xl font-semibold text-light font-[Quicksand]">Consistent by Default</span>
    </div>
    <div class="flex items-baseline gap-6 py-3 border-b border-navy-light/10">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">h4</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-xl</div>
      <span class="text-xl font-semibold text-light font-[Quicksand]">No Hardcoded Values</span>
    </div>
    <div class="flex items-baseline gap-6 py-3 border-b border-navy-light/10">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">p</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-base</div>
      <span class="text-base text-light">Body text reads cleanly at this size. Designed for long-form content and UI descriptions.</span>
    </div>
    <div class="flex items-baseline gap-6 py-3 border-b border-navy-light/10">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">small</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-sm</div>
      <span class="text-sm text-slate">Supporting text, captions, helper copy</span>
    </div>
    <div class="flex items-baseline gap-6 py-3">
      <div class="w-12 text-xs font-mono text-slate-dark shrink-0">code</div>
      <div class="w-24 text-xs font-mono text-slate shrink-0">text-sm</div>
      <code class="text-sm text-buoy font-mono">npx ahoybuoy drift check</code>
    </div>
  </div>
</section>

    <!-- Spacing section -->
<section id="spacing" class="scroll-mt-16">
  <h2 class="ds-section-heading">Spacing</h2>
  <p class="ds-section-sub">Section spacing tokens. Element-level spacing uses Tailwind's default scale.</p>

  <div class="space-y-4 mt-8">
    <div class="flex items-center gap-6 p-4 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="shrink-0 h-8 bg-buoy/20 border border-buoy/30 rounded" style="width: 6rem"></div>
      <div>
        <div class="font-mono text-sm text-buoy">--spacing-section</div>
        <div class="font-mono text-xs text-slate-dark mt-0.5">6rem — Section padding desktop</div>
      </div>
    </div>
    <div class="flex items-center gap-6 p-4 bg-navy/40 border border-navy-light/20 rounded-xl">
      <div class="shrink-0 h-8 bg-buoy/20 border border-buoy/30 rounded" style="width: 4rem"></div>
      <div>
        <div class="font-mono text-sm text-buoy">--spacing-section-sm</div>
        <div class="font-mono text-xs text-slate-dark mt-0.5">4rem — Section padding mobile</div>
      </div>
    </div>
  </div>
</section>

<!-- Effects section -->
<section id="effects" class="scroll-mt-16">
  <h2 class="ds-section-heading">Effects</h2>
  <p class="ds-section-sub">Glow utilities, text gradients, and animation classes defined in <code class="ds-code">global.css</code>.</p>

  <div class="grid md:grid-cols-2 gap-6 mt-8">
    <!-- Glows -->
    <div class="space-y-4">
      <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest">Glows</h3>
      <div class="p-4 bg-navy/40 border border-navy-light/20 rounded-xl flex items-center gap-4">
        <div class="w-12 h-12 rounded-lg bg-buoy glow-buoy shrink-0"></div>
        <div>
          <div class="font-mono text-sm text-light">.glow-buoy</div>
          <div class="font-mono text-xs text-slate-dark">box-shadow: 0 0 30px buoy/40%</div>
        </div>
      </div>
      <div class="p-4 bg-navy/40 border border-navy-light/20 rounded-xl flex items-center gap-4">
        <div class="w-12 h-12 rounded-lg bg-lavender glow-lavender shrink-0"></div>
        <div>
          <div class="font-mono text-sm text-light">.glow-lavender</div>
          <div class="font-mono text-xs text-slate-dark">box-shadow: 0 0 30px lavender/30%</div>
        </div>
      </div>
    </div>

    <!-- Text Gradients -->
    <div class="space-y-4">
      <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest">Text Gradients</h3>
      <div class="p-4 bg-navy/40 border border-navy-light/20 rounded-xl">
        <div class="text-3xl font-extrabold text-gradient-sunrise font-[Quicksand] mb-2">Catch Design Drift</div>
        <div class="font-mono text-xs text-slate-dark">.text-gradient-sunrise</div>
        <div class="font-mono text-xs text-slate-dark mt-1">buoy → sunrise → lavender at 135°</div>
      </div>
    </div>

    <!-- Animations -->
    <div class="space-y-4 md:col-span-2">
      <h3 class="text-xs font-semibold text-slate-dark uppercase tracking-widest">Animations</h3>
      <div class="grid sm:grid-cols-3 gap-4">
        <div class="p-4 bg-navy/40 border border-navy-light/20 rounded-xl text-center">
          <div class="text-4xl mb-3 animate-float">⛵</div>
          <div class="font-mono text-sm text-light">.animate-float</div>
          <div class="font-mono text-xs text-slate-dark mt-1">6s ease-in-out infinite — vertical bob</div>
        </div>
        <div class="p-4 bg-navy/40 border border-navy-light/20 rounded-xl text-center">
          <div class="text-4xl mb-3 animate-pulse-glow">⛵</div>
          <div class="font-mono text-sm text-light">.animate-pulse-glow</div>
          <div class="font-mono text-xs text-slate-dark mt-1">3s ease-in-out infinite — opacity pulse</div>
        </div>
        <div class="p-4 bg-navy/40 border border-navy-light/20 rounded-xl text-center">
          <div class="text-4xl mb-3 animate-wave">⛵</div>
          <div class="font-mono text-sm text-light">.animate-wave</div>
          <div class="font-mono text-xs text-slate-dark mt-1">8s ease-in-out infinite — lateral sway</div>
        </div>
      </div>
    </div>
  </div>
</section>

    <!-- More sections added in subsequent tasks -->

  </main>
</Layout>

<style>
  .ds-section-heading {
    font-size: 1.875rem;
    font-weight: 800;
    color: var(--color-light);
    font-family: var(--font-display);
    margin-bottom: 0.5rem;
  }
  .ds-section-sub {
    color: var(--color-slate);
    max-width: 48rem;
  }
  .ds-code {
    font-family: var(--font-mono);
    font-size: 0.875em;
    color: var(--color-buoy);
    background: color-mix(in srgb, var(--color-buoy) 10%, transparent);
    padding: 0.1em 0.4em;
    border-radius: 4px;
  }
  .scroll-mt-16 {
    scroll-margin-top: 4rem;
  }
</style>
