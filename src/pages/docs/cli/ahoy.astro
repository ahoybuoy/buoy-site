---
import DocsLayout from '../../../layouts/DocsLayout.astro'
import DocTerminal from '../../../components/DocTerminal.astro'
import Flags from '../../../components/Flags.astro'
import CodeBlock from '../../../components/CodeBlock.astro'
---

<DocsLayout title="buoy ahoy" description="Manage your Buoy Cloud account and integrations">
  <h1>buoy ahoy</h1>

  <p>
    Manage your Buoy Cloud account, Git integrations, and billing.
    Also available as <code>buoy ship</code>.
  </p>

  <h2>Usage</h2>

  <DocTerminal command="buoy ahoy <command> [options]" />

  <h2>Commands</h2>

  <Flags items={[
    { name: "login", description: "Authenticate with Buoy Cloud" },
    { name: "logout", description: "Sign out and clear credentials" },
    { name: "status", description: "Show current authentication and account status" },
    { name: "github", description: "Connect or manage GitHub integration" },
    { name: "gitlab", description: "Connect or manage GitLab integration (coming soon)" },
    { name: "billing", description: "Open billing portal in your browser" },
    { name: "plans", description: "View available plans and current usage" },
  ]} />

  <h2>Options</h2>

  <Flags items={[
    { name: "status --json", description: "Output status as JSON" },
    { name: "github --json", description: "Output GitHub connection info as JSON" },
    { name: "github --disconnect", description: "Disconnect GitHub integration" },
  ]} />

  <h2>Examples</h2>

  <h3>Login</h3>

  <DocTerminal command="buoy ahoy login" lines={[
    { text: "" },
    { text: "Opening browser for authentication..." },
    { text: "" },
    { text: "✓ Authenticated as dylan@example.com", type: "success" },
    { text: "  Plan: Founding Member" },
    { text: "  Org: Acme Inc" },
  ]} />

  <h3>Check status</h3>

  <DocTerminal command="buoy ahoy status" lines={[
    { text: "" },
    { text: "Account Status" },
    { text: "──────────────" },
    { text: "User: dylan@example.com" },
    { text: "Plan: Founding Member" },
    { text: "Org: Acme Inc" },
    { text: "GitHub: connected (acme-org)", type: "success" },
    { text: "GitLab: not connected", type: "muted" },
  ]} />

  <h3>Connect GitHub</h3>

  <DocTerminal command="buoy ahoy github" lines={[
    { text: "" },
    { text: "Opening browser to install Buoy GitHub App..." },
    { text: "" },
    { text: "✓ GitHub connected", type: "success" },
    { text: "  Organization: acme-org" },
    { text: "  Repositories: 12 accessible" },
  ]} />

  <h3>Disconnect GitHub</h3>

  <DocTerminal command="buoy ahoy github --disconnect" lines={[
    { text: "" },
    { text: "Disconnect GitHub integration? (y/N) y" },
    { text: "" },
    { text: "✓ GitHub disconnected", type: "success" },
  ]} />

  <h3>View plans</h3>

  <DocTerminal command="buoy ahoy plans" lines={[
    { text: "" },
    { text: "Current Plan: Founding Member" },
    { text: "─────────────────────────────" },
    { text: "Repos: unlimited" },
    { text: "Scans: unlimited" },
    { text: "PR checks: ✓", type: "success" },
    { text: "Priority support: ✓", type: "success" },
    { text: "" },
    { text: "Available Plans" },
    { text: "───────────────" },
    { text: "Free        $0/mo     3 repos, basic scanning", type: "muted" },
    { text: "Pro         $29/mo    unlimited repos, PR checks" },
    { text: "Enterprise  custom    SSO, dedicated support" },
  ]} />

  <h3>Manage billing</h3>

  <DocTerminal command="buoy ahoy billing" lines={[
    { text: "" },
    { text: "Opening billing portal in browser..." },
  ]} />

  <h3>Logout</h3>

  <DocTerminal command="buoy ahoy logout" lines={[
    { text: "" },
    { text: "✓ Signed out. Credentials cleared.", type: "success" },
  ]} />

  <h3>JSON output</h3>

  <DocTerminal command="buoy ahoy status --json" lines={[]} />

  <CodeBlock code={`{
  "user": "dylan@example.com",
  "plan": "founding-member",
  "org": "Acme Inc",
  "github": {
    "connected": true,
    "org": "acme-org",
    "repos": 12
  },
  "gitlab": {
    "connected": false
  }
}`} language="json" />

  <h2>Alias</h2>

  <p>
    <code>buoy ship</code> is an alias for <code>buoy ahoy</code>. Both commands are identical.
  </p>

  <CodeBlock code={`$ buoy ship status
# same as: buoy ahoy status`} language="bash" />

  <h2>Related</h2>

  <ul>
    <li><a href="/docs/cli/dock">buoy dock</a> — Project setup</li>
    <li><a href="/docs/integrations/github-actions">GitHub App</a> — PR checks and automation</li>
  </ul>
</DocsLayout>
