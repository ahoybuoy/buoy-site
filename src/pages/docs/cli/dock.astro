---
import DocsLayout from '../../../layouts/DocsLayout.astro'
---

<DocsLayout title="buoy dock" description="Dock Buoy into your project with config, agents, skills, and hooks">
  <h1>buoy dock</h1>

  <p>
    Dock Buoy into your project. With no arguments, runs an interactive
    walkthrough that configures your project, sets up agents, and installs hooks.
    Use subcommands to set up individual pieces.
  </p>

  <h2>Usage</h2>

  <pre><code>buoy dock [command] [options]</code></pre>

  <h2>Commands</h2>

  <table>
    <thead>
      <tr>
        <th>Command</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>(default)</td>
        <td>Run interactive walkthrough (config → agents → hooks)</td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td>Create or update <code>.buoy.yaml</code> configuration</td>
      </tr>
      <tr>
        <td><code>agents</code></td>
        <td>Set up AI agent files (<code>.claude/agents/</code>)</td>
      </tr>
      <tr>
        <td><code>skills</code></td>
        <td>Install Buoy skills (<code>.claude/skills/</code>)</td>
      </tr>
      <tr>
        <td><code>context</code></td>
        <td>Generate <code>CLAUDE.md</code> with design system context</td>
      </tr>
      <tr>
        <td><code>hooks</code></td>
        <td>Set up pre-commit and CI hooks</td>
      </tr>
    </tbody>
  </table>

  <h2>Options</h2>

  <table>
    <thead>
      <tr>
        <th>Option</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>-y, --yes</code></td>
        <td>Accept all defaults without prompting</td>
      </tr>
      <tr>
        <td><code>--json</code></td>
        <td>Output results as JSON</td>
      </tr>
      <tr>
        <td><code>-f, --force</code></td>
        <td>Overwrite existing files</td>
      </tr>
    </tbody>
  </table>

  <h2>Examples</h2>

  <h3>Interactive walkthrough</h3>

  <pre><code>$ buoy dock

Detecting project configuration...

Detected:
  Framework: React
  Styling: Tailwind CSS
  Components: src/components/

Step 1/3: Configuration
✓ Created .buoy.yaml

Step 2/3: AI Agents
✓ Created .claude/agents/design-reviewer.md
✓ Created .claude/agents/drift-fixer.md

Step 3/3: Hooks
✓ Created .claude/commands/buoy-check.md
✓ Updated .claude/settings.local.json

Buoy is docked! Run 'buoy check' to scan your codebase.</code></pre>

  <h3>Config only</h3>

  <pre><code>$ buoy dock config

Detecting project configuration...

Detected:
  Framework: React
  Styling: Tailwind CSS
  Components: src/components/

✓ Created .buoy.yaml</code></pre>

  <h3>Set up agents</h3>

  <pre><code>$ buoy dock agents

✓ Created .claude/agents/design-reviewer.md
✓ Created .claude/agents/drift-fixer.md

Agents are ready. Use them in Claude Code with /agent.</code></pre>

  <h3>Install skills</h3>

  <pre><code>$ buoy dock skills

✓ Created .claude/skills/design-system.md
✓ Created .claude/skills/drift-check.md

Skills installed. Claude Code will use them automatically.</code></pre>

  <h3>Generate context</h3>

  <pre><code>$ buoy dock context

Analyzing design system...

✓ Generated CLAUDE.md with design system rules
  - 67 tokens documented
  - 42 components listed
  - Anti-patterns defined</code></pre>

  <h3>Set up hooks</h3>

  <pre><code>$ buoy dock hooks

✓ Created .claude/commands/buoy-check.md
✓ Updated .claude/settings.local.json
✓ Created .git/hooks/pre-commit

Hooks installed:
  Pre-commit: drift check before each commit
  Claude Code: self-validating AI hooks</code></pre>

  <h3>Non-interactive setup</h3>

  <pre><code>$ buoy dock -y

✓ Created .buoy.yaml
✓ Created .claude/agents/design-reviewer.md
✓ Created .claude/agents/drift-fixer.md
✓ Created .claude/commands/buoy-check.md
✓ Updated .claude/settings.local.json

Buoy is docked!</code></pre>

  <h3>Force overwrite</h3>

  <pre><code>$ buoy dock config -f

Overwriting existing .buoy.yaml...
✓ Updated .buoy.yaml</code></pre>

  <h2>Generated Files</h2>

  <ul>
    <li><strong>.buoy.yaml</strong> — Main configuration file</li>
    <li><strong>.claude/skills/</strong> — Buoy skills for Claude Code</li>
    <li><strong>.claude/agents/</strong> — AI agent definitions</li>
    <li><strong>.claude/commands/</strong> — Slash commands for Claude Code</li>
    <li><strong>CLAUDE.md</strong> — Design system context for AI tools</li>
  </ul>

  <h2>Related</h2>

  <ul>
    <li><a href="/docs/cli/begin">buoy begin</a> — Interactive setup wizard</li>
    <li><a href="/docs/cli/plugins">buoy plugins</a> — Manage scanner plugins</li>
    <li><a href="/docs/cli/check">buoy check</a> — Run drift checks</li>
    <li><a href="/docs/integrations/claude-code">Claude Code</a> — AI integration details</li>
  </ul>
</DocsLayout>
