---
import DocsLayout from '../../../layouts/DocsLayout.astro'
---

<DocsLayout title="buoy fix" description="Suggest and apply fixes for design drift issues">
  <h1>buoy fix</h1>

  <p>
    Automatically fix design drift issues in your codebase. Replaces hardcoded
    values with design tokens and applies other safe transformations.
  </p>

  <h2>Usage</h2>

  <pre><code>buoy fix [options]</code></pre>

  <h2>Options</h2>

  <table>
    <thead>
      <tr>
        <th>Option</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>--apply</code></td>
        <td>Apply fixes to source files</td>
      </tr>
      <tr>
        <td><code>--dry-run</code></td>
        <td>Show detailed diff without applying changes</td>
      </tr>
      <tr>
        <td><code>-c, --confidence &lt;level&gt;</code></td>
        <td>Minimum confidence level: exact, high, medium, low (default: "high")</td>
      </tr>
      <tr>
        <td><code>-t, --type &lt;types&gt;</code></td>
        <td>Fix types to include (comma-separated: hardcoded-color, hardcoded-spacing)</td>
      </tr>
      <tr>
        <td><code>-f, --file &lt;patterns&gt;</code></td>
        <td>File glob patterns to include (comma-separated)</td>
      </tr>
      <tr>
        <td><code>--exclude &lt;patterns&gt;</code></td>
        <td>File glob patterns to exclude (comma-separated)</td>
      </tr>
      <tr>
        <td><code>--backup</code></td>
        <td>Create .bak backup files before modifying</td>
      </tr>
      <tr>
        <td><code>--json</code></td>
        <td>Output as JSON</td>
      </tr>
      <tr>
        <td><code>--force</code></td>
        <td>Skip safety checks</td>
      </tr>
    </tbody>
  </table>

  <h2>Examples</h2>

  <h3>Preview fixes (dry run)</h3>

  <pre><code>$ buoy fix --dry-run

Found 18 auto-fixable issues

Button.tsx:12
- color: '#3b82f6'
+ color: 'var(--color-primary)'

Card.tsx:8
- padding: '16px'
+ padding: 'var(--spacing-md)'

Run with --apply to apply these changes.</code></pre>

  <h3>Apply fixes</h3>

  <pre><code>$ buoy fix --apply

Applying 18 fixes...

✓ Button.tsx: 3 fixes applied
✓ Card.tsx: 2 fixes applied
✓ Modal.tsx: 5 fixes applied
... and 8 more files

18 issues fixed. 5 need manual review.</code></pre>

  <h3>Fix only color issues</h3>

  <pre><code>buoy fix --apply --type hardcoded-color</code></pre>

  <h3>Fix specific files</h3>

  <pre><code>buoy fix --apply --file "src/components/**/*.tsx"</code></pre>

  <h2>Confidence Levels</h2>

  <p>Each fix suggestion includes a confidence score indicating how safe it is to apply:</p>

  <table>
    <thead>
      <tr>
        <th>Level</th>
        <th>Score</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>exact</code></td>
        <td>100%</td>
        <td>Value exactly matches a design token — safest to auto-apply</td>
      </tr>
      <tr>
        <td><code>high</code></td>
        <td>95-99%</td>
        <td>Very close match, safe to auto-apply</td>
      </tr>
      <tr>
        <td><code>medium</code></td>
        <td>70-94%</td>
        <td>Close match, review recommended</td>
      </tr>
      <tr>
        <td><code>low</code></td>
        <td>&lt;70%</td>
        <td>Ambiguous, manual review required</td>
      </tr>
    </tbody>
  </table>

  <p>By default, <code>--apply</code> only applies <code>high</code> and <code>exact</code> confidence fixes.</p>

  <h2>Related</h2>

  <ul>
    <li><a href="/docs/cli/drift">buoy drift</a> - Detect drift issues</li>
    <li><a href="/docs/cli/check">buoy check</a> - Fast pre-commit check</li>
    <li><a href="/docs/cli/baseline">buoy baseline</a> - Manage baseline for existing issues</li>
  </ul>
</DocsLayout>
